{"ast":null,"code":"var _jsxFileName = \"C:\\\\Esamudaay\\\\esm_comp_cp\\\\src\\\\Components\\\\Content.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { Pagination } from '@material-ui/lab';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport { Button } from 'react-bootstrap';\nimport DownloadButton from '@material-ui/core/Button';\nimport axios from 'axios';\nimport config from '../Utility/config';\nimport blockStyle from '../Utility/Style';\nimport Counter from '../Components/Counter';\nimport Filters from '../Components/Filters';\nimport DatePicker from '../Components/DatePicker';\nimport { orderFilters, paymentFilters, deliveryFilters, paymentModeFilters } from '../Utility/filterList';\nimport { getCustomerAddress, getDateFormat, getDeliveryAgentName } from \"../Utility/paramsConvert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(blockStyle);\n\nvar fileDownload = require('js-file-download');\n\nconst Content = props => {\n  _s();\n\n  const classes = useStyles();\n  const [tableData, setTableData] = useState([]);\n  const [orderCount, setorderCount] = useState(0);\n  const [orderSum, setorderSum] = useState(0);\n  const [orderSeller, setorderSeller] = useState(0);\n  const [customer, setcustomer] = useState(0);\n  const [orderStatus, setorderStatus] = useState({});\n  const [filterCompleted, setFilterCompleted] = useState(true);\n  const [page, setPage] = useState(1);\n  const {\n    circleId,\n    authToken\n  } = useParams();\n  const [activeOrderFilter, setActiveOrderFilter] = useState([]);\n  const [activePaymentFilter, setActivePaymentFilter] = useState([]);\n  const [activeDeliveryFilter, setActiveDeliveryFilter] = useState([]);\n  const [activePaymentModeFilter, setActivePaymentModeFilter] = useState([]);\n  const [fromEpochDate, setFromEpochDate] = useState();\n  const [toEpochDate, setToEpochDate] = useState();\n\n  const onOrderFilterChange = filter => {\n    setActiveOrderFilter(Array.isArray(filter) ? filter.map(filter => filter.value) : []);\n    filter.map(x => activeOrderFilter.includes(x.value));\n    setFilterCompleted(!filterCompleted);\n  };\n\n  const onPaymentFilterChange = filter => {\n    setActivePaymentFilter(Array.isArray(filter) ? filter.map(filter => filter.value) : []);\n    setFilterCompleted(!filterCompleted);\n  };\n\n  const onDeliveryFilterChange = filter => {\n    setActiveDeliveryFilter(Array.isArray(filter) ? filter.map(filter => filter.value) : []);\n    setFilterCompleted(!filterCompleted);\n  };\n\n  const onPaymentModeFilterChange = filter => {\n    setActivePaymentModeFilter(Array.isArray(filter) ? filter.map(filter => filter.value) : []);\n    setFilterCompleted(!filterCompleted);\n  };\n\n  const changePage = (e, value) => {\n    setPage(value);\n  };\n\n  const onDateEpochChange = (val, check) => {\n    if (check === \"ChangeFrom\") {\n      setFromEpochDate(val);\n    } else if (check === \"ChangeTo\") {\n      setToEpochDate(val);\n    }\n\n    setFilterCompleted(!filterCompleted);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"authenticationToken\");\n    const circleID = localStorage.getItem(\"circle_id\"); //Making API call to backend\n\n    axios.get(config.apiUrl, {\n      headers: {\n        'Authorization': \"JWT \" + {\n          authToken\n        }.authToken\n      },\n      params: {\n        circle_id: {\n          circleId\n        }.circleId,\n        order_status: activeOrderFilter.join(),\n        page: page,\n        delivery_type: activeDeliveryFilter.join(),\n        payment_status: activePaymentFilter.join(),\n        payment_mode: activePaymentModeFilter.join(),\n        dt_last_modified_from: fromEpochDate,\n        dt_last_modified_to: toEpochDate\n      }\n    }).then(response => {\n      // alert(\"success\")\n      setTableData(response.data.results);\n      setorderCount(response.data.count);\n    }).catch(function (error) {\n      alert(\"Unauthorize or slow internet\");\n    });\n  }, [filterCompleted, page]);\n\n  const downloadAPI = () => {\n    const token = localStorage.getItem(\"authenticationToken\");\n    const circleID = localStorage.getItem(\"circle_id\"); //Making API call to backend\n\n    axios.get(config.downloadUrl, {\n      headers: {\n        'Authorization': \"JWT \" + {\n          authToken\n        }.authToken\n      },\n      params: {\n        circle_id: {\n          circleId\n        }.circleId,\n        order_status: activeOrderFilter.join(),\n        delivery_type: activeDeliveryFilter.join(),\n        payment_status: activePaymentFilter.join(),\n        payment_mode: activePaymentModeFilter.join(),\n        dt_last_modified_from: fromEpochDate,\n        dt_last_modified_to: toEpochDate\n      }\n    }).then(response => {\n      console.log(Date().toLocaleString());\n      fileDownload(response.data, 'OrderUI (' + Date().toString() + ').csv');\n    }).catch(function (error) {\n      alert(\"Unauthorize or slow internet\");\n    });\n  };\n\n  const rows = tableData.map((item, key) => {\n    return {\n      id: item.order.order_short_number,\n      Order_created_date: getDateFormat(item.order.created),\n      last_update: getDateFormat(item.order.modified),\n      Status: item.order.order_status,\n      Seller: item.order.business_name,\n      Order_amt: item.order.order_total,\n      Delivery_type: item.order.delivery_type,\n      Delivery_charges: item.order.delivery_charges,\n      Other_charges: item.order.other_charges,\n      Item_Total: item.order.item_total,\n      Delivery_Agent: getDeliveryAgentName(item.order.da_info),\n      Payment_Status: item.order.payment_info.status,\n      Payment_mode: item.order.payment_info.via,\n      Payment_id: item.order.payment_info.payment_id,\n      Customer_name: item.order.customer_name,\n      Customer_number: item.order.customer_phones,\n      Customer_address: getCustomerAddress(item.order.delivery_address)\n    };\n  });\n  const columns = [{\n    id: \"id\",\n    label: \"OrderId\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Order_created_date\",\n    label: \"Order Created Date\",\n    minWidth: 100,\n    align: 'left'\n  }, {\n    id: \"last_update\",\n    label: \"Order Last Update Date\",\n    minWidth: 100,\n    align: 'left'\n  }, {\n    id: \"Status\",\n    label: \"Status\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Seller\",\n    label: \"Seller\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Order_amt\",\n    label: \"Order Amt\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Delivery_Type\",\n    label: \"Delivery Type\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Delivery_Charges\",\n    label: \"Delivery Charges\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Other_charges\",\n    label: \"Other Charges\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Item_Total\",\n    label: \"Item Total\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Delivery_Agent\",\n    label: \"Delivery Agent\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Payment_Status\",\n    label: \"Payment Status\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Payment_mode\",\n    label: \"Payment Mode\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Payment_id\",\n    label: \"Payment id\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Customer_name\",\n    label: \"Customer Name\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Customer_number\",\n    label: \"Customer Number\",\n    minWidth: 50,\n    align: 'left'\n  }, {\n    id: \"Customer_address\",\n    label: \"Customer Address\",\n    minWidth: 50,\n    align: 'left'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        style: {\n          padding: \"4px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          handleDateChange: onDateEpochChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        style: {\n          padding: \"4px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Order Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Filters, {\n          handleFilterChange: onOrderFilterChange,\n          activeFilterFilter: activeOrderFilter,\n          filterUtility: orderFilters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Payment Mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Filters, {\n          handleFilterChange: onPaymentModeFilterChange,\n          activeFilterFilter: activePaymentModeFilter,\n          filterUtility: paymentModeFilters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        style: {\n          padding: \"4px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Payment Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Filters, {\n          handleFilterChange: onPaymentFilterChange,\n          activeFilterFilter: activePaymentFilter,\n          filterUtility: paymentFilters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Delivery Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Filters, {\n          handleFilterChange: onDeliveryFilterChange,\n          activeFilterFilter: activeDeliveryFilter,\n          filterUtility: deliveryFilters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        style: {\n          padding: \"0px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Counter, {\n          orderCount: orderCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        style: {\n          paddingTop: \"30px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 2,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              setFromEpochDate();\n              setToEpochDate();\n              setFilterCompleted(!filterCompleted);\n            },\n            children: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 1,\n          style: {\n            padding: \"5px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(DownloadButton, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: downloadAPI,\n            children: \"Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"0em\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n            component: Paper,\n            style: {\n              height: \"100%\",\n              width: \"100%\",\n              display: \"block\",\n              overflow: \"auto\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              className: classes.table,\n              \"aria-label\": \"simple table\",\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: columns.map(column => /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: column.align,\n                    style: {\n                      minWidth: column.minWidth\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: column.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 24\n                    }, this)\n                  }, column.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 47\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: rows.map(row => {\n                  return row ? /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Order_created_date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.last_update\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Seller\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Order_amt\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Delivery_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Delivery_charges\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Other_charges\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Item_Total\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Delivery_Agent\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Payment_Status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Payment_mode\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Payment_id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Customer_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Customer_number\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"left\",\n                      children: row.Customer_address\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 27\n                    }, this)]\n                  }, row.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 25\n                  }, this) : null;\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n            style: {\n              paddingTop: \"20px\",\n              scrollPaddingBottom: \"20px\",\n              alignContent: \"center\"\n            },\n            count: Math.ceil(orderCount / 10),\n            onChange: changePage,\n            showFirstButton: true,\n            showLastButton: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Content, \"GY9DKcPsROY73yQm/R9jbaCfTmE=\", false, function () {\n  return [useStyles, useParams];\n});\n\n_c = Content;\nexport default Content;\n\nvar _c;\n\n$RefreshReg$(_c, \"Content\");","map":{"version":3,"sources":["C:/Esamudaay/esm_comp_cp/src/Components/Content.jsx"],"names":["React","useState","useEffect","useParams","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Grid","Pagination","RefreshIcon","Button","DownloadButton","axios","config","blockStyle","Counter","Filters","DatePicker","orderFilters","paymentFilters","deliveryFilters","paymentModeFilters","getCustomerAddress","getDateFormat","getDeliveryAgentName","useStyles","fileDownload","require","Content","props","classes","tableData","setTableData","orderCount","setorderCount","orderSum","setorderSum","orderSeller","setorderSeller","customer","setcustomer","orderStatus","setorderStatus","filterCompleted","setFilterCompleted","page","setPage","circleId","authToken","activeOrderFilter","setActiveOrderFilter","activePaymentFilter","setActivePaymentFilter","activeDeliveryFilter","setActiveDeliveryFilter","activePaymentModeFilter","setActivePaymentModeFilter","fromEpochDate","setFromEpochDate","toEpochDate","setToEpochDate","onOrderFilterChange","filter","Array","isArray","map","value","x","includes","onPaymentFilterChange","onDeliveryFilterChange","onPaymentModeFilterChange","changePage","e","onDateEpochChange","val","check","token","localStorage","getItem","circleID","get","apiUrl","headers","params","circle_id","order_status","join","delivery_type","payment_status","payment_mode","dt_last_modified_from","dt_last_modified_to","then","response","data","results","count","catch","error","alert","downloadAPI","downloadUrl","console","log","Date","toLocaleString","toString","rows","item","key","id","order","order_short_number","Order_created_date","created","last_update","modified","Status","Seller","business_name","Order_amt","order_total","Delivery_type","Delivery_charges","delivery_charges","Other_charges","other_charges","Item_Total","item_total","Delivery_Agent","da_info","Payment_Status","payment_info","status","Payment_mode","via","Payment_id","payment_id","Customer_name","customer_name","Customer_number","customer_phones","Customer_address","delivery_address","columns","label","minWidth","align","root","padding","paddingTop","marginTop","height","width","display","overflow","table","column","row","scrollPaddingBottom","alignContent","Math","ceil"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Pagination } from '@material-ui/lab';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport { Button } from 'react-bootstrap';\r\nimport DownloadButton from '@material-ui/core/Button';\r\n\r\nimport axios from 'axios';\r\nimport config from '../Utility/config';\r\nimport blockStyle from '../Utility/Style';\r\nimport Counter from '../Components/Counter';\r\nimport Filters from '../Components/Filters';\r\nimport DatePicker from '../Components/DatePicker'\r\nimport { orderFilters, paymentFilters,deliveryFilters, paymentModeFilters } from '../Utility/filterList';\r\nimport { getCustomerAddress, getDateFormat, getDeliveryAgentName } from \"../Utility/paramsConvert\";\r\nconst useStyles = makeStyles(blockStyle);\r\nvar fileDownload = require('js-file-download');\r\n\r\nconst Content = (props) => {\r\n  const classes = useStyles();\r\n  const [tableData, setTableData] = useState([]);\r\n  const [orderCount, setorderCount] = useState(0);\r\n  const [orderSum, setorderSum] = useState(0);\r\n  const [orderSeller, setorderSeller] = useState(0);\r\n  const [customer, setcustomer] = useState(0);\r\n  const [orderStatus, setorderStatus] = useState({});\r\n  const [filterCompleted, setFilterCompleted] = useState(true)\r\n  const [page, setPage] = useState(1);\r\n  const { circleId, authToken } = useParams();\r\n  const [activeOrderFilter, setActiveOrderFilter] = useState([]);\r\n  const [activePaymentFilter, setActivePaymentFilter] = useState([]);\r\n  const [activeDeliveryFilter, setActiveDeliveryFilter] = useState([]);\r\n  const [activePaymentModeFilter, setActivePaymentModeFilter] = useState([]);\r\n  const [fromEpochDate, setFromEpochDate] = useState();\r\n  const [toEpochDate, setToEpochDate] = useState();\r\n\r\n \r\n  const onOrderFilterChange = (filter) => {\r\n    setActiveOrderFilter(Array.isArray(filter) ? filter.map( filter => (filter.value)) : []);\r\n    filter.map(x=>activeOrderFilter.includes(x.value));\r\n    setFilterCompleted(!filterCompleted)\r\n  }\r\n\r\n  const onPaymentFilterChange = (filter) => {\r\n    \r\n    setActivePaymentFilter(Array.isArray(filter) ? filter.map( filter => (filter.value)) : []);\r\n    setFilterCompleted(!filterCompleted)\r\n  }\r\n\r\n  const onDeliveryFilterChange = (filter) => {\r\n    setActiveDeliveryFilter(Array.isArray(filter) ? filter.map( filter => (filter.value)) : []);\r\n    setFilterCompleted(!filterCompleted)\r\n  }\r\n\r\n  const onPaymentModeFilterChange = (filter) => {\r\n\r\n    setActivePaymentModeFilter(Array.isArray(filter) ? filter.map( filter => (filter.value)) : []);\r\n    setFilterCompleted(!filterCompleted)\r\n  }\r\n\r\n\r\n  const changePage = (e, value) => {\r\n\r\n    setPage(value)\r\n\r\n\r\n  }\r\n\r\n  const onDateEpochChange = (val, check) => {\r\n    if (check === \"ChangeFrom\") {\r\n      setFromEpochDate(val)\r\n\r\n    }\r\n    else if (check === \"ChangeTo\") {\r\n      setToEpochDate(val)\r\n    }\r\n    setFilterCompleted(!filterCompleted)\r\n\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    const token = localStorage.getItem(\"authenticationToken\");\r\n    const circleID = localStorage.getItem(\"circle_id\");\r\n    \r\n    //Making API call to backend\r\n    axios.get(config.apiUrl, {\r\n      headers: {\r\n        'Authorization': \"JWT \" + { authToken }.authToken\r\n      },\r\n      params: {\r\n        circle_id: { circleId }.circleId,\r\n        order_status: activeOrderFilter.join(),\r\n        page: page,\r\n        delivery_type: activeDeliveryFilter.join(),\r\n        payment_status: activePaymentFilter.join(),\r\n        payment_mode: activePaymentModeFilter.join(),\r\n        dt_last_modified_from: fromEpochDate,\r\n        dt_last_modified_to: toEpochDate\r\n      }\r\n    })\r\n      .then(response => {\r\n        // alert(\"success\")\r\n        setTableData(response.data.results)\r\n        setorderCount(response.data.count)\r\n      })\r\n      .catch(function (error) {\r\n        alert(\"Unauthorize or slow internet\")\r\n      })\r\n\r\n  }, [filterCompleted, page])\r\n\r\n  const downloadAPI=()=>{\r\n    const token = localStorage.getItem(\"authenticationToken\");\r\n    const circleID = localStorage.getItem(\"circle_id\");\r\n    \r\n    //Making API call to backend\r\n    axios.get(config.downloadUrl, {\r\n      headers: {\r\n        'Authorization': \"JWT \" + { authToken }.authToken\r\n      },\r\n      params: {\r\n        circle_id: { circleId }.circleId,\r\n        order_status: activeOrderFilter.join(),\r\n        delivery_type: activeDeliveryFilter.join(),\r\n        payment_status: activePaymentFilter.join(),\r\n        payment_mode: activePaymentModeFilter.join(),\r\n        dt_last_modified_from: fromEpochDate,\r\n        dt_last_modified_to: toEpochDate\r\n        \r\n      }\r\n    })\r\n      .then(response => {\r\n        console.log(Date().toLocaleString());\r\n        fileDownload(response.data, 'OrderUI ('+Date().toString()+').csv');\r\n        \r\n      })\r\n      .catch(function (error) {\r\n        alert(\"Unauthorize or slow internet\")\r\n      })\r\n  }\r\n\r\n  const rows = (tableData.map((item, key) => {\r\n    \r\n    return {\r\n      id: item.order.order_short_number,\r\n      Order_created_date: getDateFormat(item.order.created),\r\n      last_update: getDateFormat(item.order.modified),\r\n      Status: item.order.order_status,\r\n      Seller: item.order.business_name,\r\n      Order_amt: item.order.order_total,\r\n      Delivery_type: item.order.delivery_type,\r\n      Delivery_charges: item.order.delivery_charges,\r\n      Other_charges: item.order.other_charges,\r\n      Item_Total: item.order.item_total,\r\n      Delivery_Agent: getDeliveryAgentName(item.order.da_info),\r\n      Payment_Status: item.order.payment_info.status,\r\n      Payment_mode: item.order.payment_info.via,\r\n      Payment_id: item.order.payment_info.payment_id,\r\n      Customer_name: item.order.customer_name,\r\n      Customer_number: item.order.customer_phones,\r\n      Customer_address: getCustomerAddress(item.order.delivery_address)\r\n\r\n    }\r\n  }))\r\n\r\n  const columns = [\r\n    { id: \"id\", label: \"OrderId\", minWidth: 50, align: 'left' },\r\n    { id: \"Order_created_date\", label: \"Order Created Date\", minWidth: 100, align: 'left' },\r\n    { id: \"last_update\", label: \"Order Last Update Date\", minWidth: 100, align: 'left' },\r\n    { id: \"Status\", label: \"Status\", minWidth: 50, align: 'left' },\r\n    { id: \"Seller\", label: \"Seller\", minWidth: 50, align: 'left' },\r\n    { id: \"Order_amt\", label: \"Order Amt\", minWidth: 50, align: 'left' },\r\n    { id: \"Delivery_Type\", label: \"Delivery Type\", minWidth: 50, align: 'left' },\r\n    { id: \"Delivery_Charges\", label: \"Delivery Charges\", minWidth: 50, align: 'left' },\r\n    { id: \"Other_charges\", label: \"Other Charges\", minWidth: 50, align: 'left' },\r\n    { id: \"Item_Total\", label: \"Item Total\", minWidth: 50, align: 'left' },\r\n    { id: \"Delivery_Agent\", label: \"Delivery Agent\", minWidth: 50, align: 'left' },\r\n    { id: \"Payment_Status\", label: \"Payment Status\", minWidth: 50, align: 'left' },\r\n    { id: \"Payment_mode\", label: \"Payment Mode\", minWidth: 50, align: 'left' },\r\n    { id: \"Payment_id\", label: \"Payment id\", minWidth: 50, align: 'left' },\r\n    { id: \"Customer_name\", label: \"Customer Name\", minWidth: 50, align: 'left' },\r\n    { id: \"Customer_number\", label: \"Customer Number\", minWidth: 50, align: 'left' },\r\n    { id: \"Customer_address\", label: \"Customer Address\", minWidth: 50, align: 'left' },\r\n  ];\r\n\r\n  \r\n\r\n  return (\r\n\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Grid container spacing={3}>\r\n\r\n        <Grid item xs={2} style={{ padding: \"4px\" }}>\r\n            <DatePicker handleDateChange={onDateEpochChange} ></DatePicker>\r\n        </Grid>\r\n\r\n        <Grid item xs={2} style={{ padding: \"4px\" }}>\r\n            <h3>Order Status</h3>\r\n            <Filters handleFilterChange={onOrderFilterChange}  activeFilterFilter={activeOrderFilter} filterUtility={orderFilters}></Filters>\r\n            <h3>Payment Mode</h3>\r\n          <Filters handleFilterChange={onPaymentModeFilterChange}  activeFilterFilter={activePaymentModeFilter} filterUtility={paymentModeFilters}></Filters>\r\n        </Grid>\r\n\r\n        <Grid item xs={2} style={{ padding: \"4px\" }}>\r\n            <h3>Payment Status</h3>\r\n            <Filters handleFilterChange={onPaymentFilterChange}  activeFilterFilter={activePaymentFilter} filterUtility={paymentFilters}></Filters>\r\n            <h3>Delivery Status</h3>\r\n            <Filters handleFilterChange={onDeliveryFilterChange}  activeFilterFilter={activeDeliveryFilter} filterUtility={deliveryFilters}></Filters>\r\n        </Grid>\r\n\r\n        <Grid item xs={4} style={{ padding: \"0px\" }}>\r\n          <Counter orderCount={orderCount} />\r\n        </Grid>\r\n\r\n      </Grid>\r\n      <div className={classes.root} >\r\n\r\n      <Grid container spacing={3} style={{ paddingTop: \"30px\"}} >\r\n        <Grid item xs={2} >\r\n          <Button onClick={() => {\r\n            setFromEpochDate();\r\n            setToEpochDate();\r\n            setFilterCompleted(!filterCompleted)\r\n          }}>\r\n            <RefreshIcon >\r\n            </RefreshIcon>\r\n          </Button>\r\n        </Grid>\r\n        \r\n        <Grid item xs={1} style={{ padding: \"5px\" }}>\r\n          {/* <h4>Download File</h4> */}\r\n          <DownloadButton variant=\"contained\" color=\"primary\" onClick={downloadAPI}>Download</DownloadButton>\r\n        </Grid>  \r\n      </Grid>\r\n      </div>\r\n\r\n      <div style={{ marginTop: \"0em\" }}>\r\n\r\n        <Grid container spacing={3}>\r\n          \r\n          <Grid item xs={12}>\r\n            <TableContainer component={Paper} style={{ height: \"100%\", width: \"100%\", display: \"block\", overflow: \"auto\" }}>\r\n              <Table className={classes.table} aria-label=\"simple table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    {columns.map((column) => (<TableCell\r\n                      key={column.id}\r\n                      align={column.align}\r\n                      style={{\r\n                        minWidth: column.minWidth,\r\n\r\n                      }}\r\n                    >\r\n                       <strong>{column.label}</strong>\r\n                    </TableCell>))}\r\n\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {rows.map((row) => {\r\n\r\n                    return row ?\r\n                      (\r\n                        <TableRow key={row.id}>\r\n                          <TableCell align=\"left\">{row.id}</ TableCell>\r\n                          <TableCell align=\"left\">{row.Order_created_date}</TableCell>\r\n                          <TableCell align=\"left\">{row.last_update}</TableCell>\r\n                          <TableCell align=\"left\">{row.Status}</TableCell>\r\n                          <TableCell align=\"left\">{row.Seller}</TableCell>\r\n                          <TableCell align=\"left\">{row.Order_amt}</TableCell>\r\n                          <TableCell align=\"left\">{row.Delivery_type}</TableCell>\r\n                          <TableCell align=\"left\">{row.Delivery_charges}</TableCell>\r\n                          <TableCell align=\"left\">{row.Other_charges}</TableCell>\r\n                          <TableCell align=\"left\">{row.Item_Total}</TableCell>\r\n                          <TableCell align=\"left\">{row.Delivery_Agent}</TableCell>\r\n                          <TableCell align=\"left\">{row.Payment_Status}</TableCell>\r\n                          <TableCell align=\"left\">{row.Payment_mode}</TableCell>\r\n                          <TableCell align=\"left\">{row.Payment_id}</TableCell>\r\n                          <TableCell align=\"left\">{row.Customer_name}</TableCell>\r\n                          <TableCell align=\"left\">{row.Customer_number}</TableCell>\r\n                          <TableCell align=\"left\">{row.Customer_address}</TableCell>\r\n\r\n                        </TableRow>\r\n                      ) : null\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n\r\n            <Pagination style={{ paddingTop: \"20px\", scrollPaddingBottom: \"20px\", alignContent: \"center\" }} count={Math.ceil(orderCount / 10)} onChange={changePage} showFirstButton showLastButton />\r\n          </Grid>\r\n        </Grid>\r\n\r\n\r\n      </div>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default Content;"]},"metadata":{},"sourceType":"module"}