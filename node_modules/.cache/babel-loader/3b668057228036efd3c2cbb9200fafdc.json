{"ast":null,"code":"import _slicedToArray from\"C:/Esamudaay/esm_comp_cp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import Grid from'@material-ui/core/Grid';import{Pagination}from'@material-ui/lab';import RefreshIcon from'@material-ui/icons/Refresh';import{Button}from'react-bootstrap';import DownloadButton from'@material-ui/core/Button';import axios from'axios';import config from'../Utility/config';import blockStyle from'../Utility/Style';import Counter from'../Components/Counter';import Filters from'../Components/Filters';import DatePicker from'../Components/DatePicker';import{orderFilters,paymentFilters,deliveryFilters,paymentModeFilters}from'../Utility/filterList';import{getCustomerAddress,getDateFormat,getDeliveryAgentName}from\"../Utility/paramsConvert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(blockStyle);var fileDownload=require('js-file-download');var Content=function Content(props){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableData=_useState2[0],setTableData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),orderCount=_useState4[0],setorderCount=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),orderSum=_useState6[0],setorderSum=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),orderSeller=_useState8[0],setorderSeller=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),customer=_useState10[0],setcustomer=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),orderStatus=_useState12[0],setorderStatus=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),filterCompleted=_useState14[0],setFilterCompleted=_useState14[1];var _useState15=useState(1),_useState16=_slicedToArray(_useState15,2),page=_useState16[0],setPage=_useState16[1];var _useParams=useParams(),circleId=_useParams.circleId,authToken=_useParams.authToken;var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),activeOrderFilter=_useState18[0],setActiveOrderFilter=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),activePaymentFilter=_useState20[0],setActivePaymentFilter=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),activeDeliveryFilter=_useState22[0],setActiveDeliveryFilter=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),activePaymentModeFilter=_useState24[0],setActivePaymentModeFilter=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),fromEpochDate=_useState26[0],setFromEpochDate=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),toEpochDate=_useState28[0],setToEpochDate=_useState28[1];var onOrderFilterChange=function onOrderFilterChange(filter){setActiveOrderFilter(Array.isArray(filter)?filter.map(function(filter){return filter.value;}):[]);filter.map(function(x){return activeOrderFilter.includes(x.value);});setFilterCompleted(!filterCompleted);};var onPaymentFilterChange=function onPaymentFilterChange(filter){setActivePaymentFilter(Array.isArray(filter)?filter.map(function(filter){return filter.value;}):[]);setFilterCompleted(!filterCompleted);};var onDeliveryFilterChange=function onDeliveryFilterChange(filter){setActiveDeliveryFilter(Array.isArray(filter)?filter.map(function(filter){return filter.value;}):[]);setFilterCompleted(!filterCompleted);};var onPaymentModeFilterChange=function onPaymentModeFilterChange(filter){setActivePaymentModeFilter(Array.isArray(filter)?filter.map(function(filter){return filter.value;}):[]);setFilterCompleted(!filterCompleted);};var changePage=function changePage(e,value){setPage(value);};var onDateEpochChange=function onDateEpochChange(val,check){if(check===\"ChangeFrom\"){setFromEpochDate(val);}else if(check===\"ChangeTo\"){setToEpochDate(val);}setFilterCompleted(!filterCompleted);};useEffect(function(){var token=localStorage.getItem(\"authenticationToken\");var circleID=localStorage.getItem(\"circle_id\");//Making API call to backend\naxios.get(config.apiUrl,{headers:{'Authorization':\"JWT \"+{authToken:authToken}.authToken},params:{circle_id:{circleId:circleId}.circleId,order_status:activeOrderFilter.join(),page:page,delivery_type:activeDeliveryFilter.join(),payment_status:activePaymentFilter.join(),payment_mode:activePaymentModeFilter.join(),dt_last_modified_from:fromEpochDate,dt_last_modified_to:toEpochDate}}).then(function(response){// alert(\"success\")\nsetTableData(response.data.results);setorderCount(response.data.count);}).catch(function(error){alert(\"Unauthorize or slow internet\");});},[filterCompleted,page]);var downloadAPI=function downloadAPI(){var token=localStorage.getItem(\"authenticationToken\");var circleID=localStorage.getItem(\"circle_id\");//Making API call to backend\naxios.get(config.downloadUrl,{headers:{'Authorization':\"JWT \"+{authToken:authToken}.authToken},params:{circle_id:{circleId:circleId}.circleId,order_status:activeOrderFilter.join(),delivery_type:activeDeliveryFilter.join(),payment_status:activePaymentFilter.join(),payment_mode:activePaymentModeFilter.join(),dt_last_modified_from:fromEpochDate,dt_last_modified_to:toEpochDate}}).then(function(response){console.log(Date().toLocaleString());fileDownload(response.data,'Order Data ('+Date().toString()+').csv');}).catch(function(error){alert(\"Unauthorize or slow internet\");});};var rows=tableData.map(function(item,key){return{id:item.order.order_short_number,Order_created_date:getDateFormat(item.order.created),last_update:getDateFormat(item.order.modified),Status:item.order.order_status,Seller:item.order.business_name,Order_amt:item.order.order_total,Delivery_type:item.order.delivery_type,Delivery_charges:item.order.delivery_charges,Other_charges:item.order.other_charges,Item_Total:item.order.item_total,Delivery_Agent:getDeliveryAgentName(item.order.da_info),Payment_Status:item.order.payment_info.status,Payment_mode:item.order.payment_info.via,Payment_id:item.order.payment_info.payment_id,Customer_name:item.order.customer_name,Customer_number:item.order.customer_phones,Customer_address:getCustomerAddress(item.order.delivery_address),long_id:item.order.order_id};});var columns=[{id:\"id\",label:\"OrderId\",minWidth:50,align:'left'},{id:\"Order_created_date\",label:\"Order Created Date\",minWidth:100,align:'left'},{id:\"last_update\",label:\"Order Last Update Date\",minWidth:100,align:'left'},{id:\"Status\",label:\"Status\",minWidth:50,align:'left'},{id:\"Seller\",label:\"Seller\",minWidth:50,align:'left'},{id:\"Order_amt\",label:\"Order Amt\",minWidth:50,align:'left'},{id:\"Delivery_Type\",label:\"Delivery Type\",minWidth:50,align:'left'},{id:\"Delivery_Charges\",label:\"Delivery Charges\",minWidth:50,align:'left'},{id:\"Other_charges\",label:\"Other Charges\",minWidth:50,align:'left'},{id:\"Item_Total\",label:\"Item Total\",minWidth:50,align:'left'},{id:\"Delivery_Agent\",label:\"Delivery Agent\",minWidth:50,align:'left'},{id:\"Payment_Status\",label:\"Payment Status\",minWidth:50,align:'left'},{id:\"Payment_mode\",label:\"Payment Mode\",minWidth:50,align:'left'},{id:\"Payment_id\",label:\"Payment id\",minWidth:50,align:'left'},{id:\"Customer_name\",label:\"Customer Name\",minWidth:50,align:'left'},{id:\"Customer_number\",label:\"Customer Number\",minWidth:50,align:'left'},{id:\"Customer_address\",label:\"Customer Address\",minWidth:50,align:'left'},{id:\"long_id\",label:\"Long OrderId\",minWidth:50,align:'left'}];return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,style:{padding:\"10px\"},children:/*#__PURE__*/_jsx(DatePicker,{handleDateChange:onDateEpochChange})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:2,style:{padding:\"4px\"},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"ORDER STATUS\"}),/*#__PURE__*/_jsx(Filters,{handleFilterChange:onOrderFilterChange,activeFilterFilter:activeOrderFilter,filterUtility:orderFilters}),/*#__PURE__*/_jsx(\"h4\",{children:\"DELIVERY STATUS\"}),/*#__PURE__*/_jsx(Filters,{handleFilterChange:onDeliveryFilterChange,activeFilterFilter:activeDeliveryFilter,filterUtility:deliveryFilters})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:2,style:{padding:\"4px\"},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"PAYMENT STATUS\"}),/*#__PURE__*/_jsx(Filters,{handleFilterChange:onPaymentFilterChange,activeFilterFilter:activePaymentFilter,filterUtility:paymentFilters}),/*#__PURE__*/_jsx(\"h4\",{children:\"PAYMENT MODE\"}),/*#__PURE__*/_jsx(Filters,{handleFilterChange:onPaymentModeFilterChange,activeFilterFilter:activePaymentModeFilter,filterUtility:paymentModeFilters})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:3,style:{paddingTop:\"60px\"},children:/*#__PURE__*/_jsx(Counter,{orderCount:orderCount})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,style:{paddingTop:\"30px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:1,children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setFromEpochDate();setToEpochDate();setFilterCompleted(!filterCompleted);},children:/*#__PURE__*/_jsx(RefreshIcon,{})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:1,style:{paddingLeft:\"5px\"},children:/*#__PURE__*/_jsx(DownloadButton,{variant:\"contained\",color:\"primary\",onClick:downloadAPI,children:\"Download\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"0em\"},children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TableContainer,{component:Paper,style:{height:\"100%\",width:\"100%\",display:\"block\",overflow:\"auto\"},children:/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{children:columns.map(function(column){return/*#__PURE__*/_jsx(TableCell,{align:column.align,style:{minWidth:column.minWidth},children:/*#__PURE__*/_jsx(\"strong\",{children:column.label})},column.id);})})}),/*#__PURE__*/_jsx(TableBody,{children:rows.map(function(row){return row?/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.id}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Order_created_date}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.last_update}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Status}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Seller}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Order_amt}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Delivery_type}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Delivery_charges}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Other_charges}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Item_Total}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Delivery_Agent}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Payment_Status}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Payment_mode}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Payment_id}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Customer_name}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Customer_number}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.Customer_address}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.long_id})]},row.id):null;})})]})}),/*#__PURE__*/_jsx(Pagination,{style:{paddingTop:\"20px\",scrollPaddingBottom:\"20px\",alignContent:\"center\"},count:Math.ceil(orderCount/10),onChange:changePage,showFirstButton:true,showLastButton:true})]})})})]});};export default Content;","map":{"version":3,"sources":["C:/Esamudaay/esm_comp_cp/src/Components/Content.jsx"],"names":["React","useState","useEffect","useParams","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Grid","Pagination","RefreshIcon","Button","DownloadButton","axios","config","blockStyle","Counter","Filters","DatePicker","orderFilters","paymentFilters","deliveryFilters","paymentModeFilters","getCustomerAddress","getDateFormat","getDeliveryAgentName","useStyles","fileDownload","require","Content","props","classes","tableData","setTableData","orderCount","setorderCount","orderSum","setorderSum","orderSeller","setorderSeller","customer","setcustomer","orderStatus","setorderStatus","filterCompleted","setFilterCompleted","page","setPage","circleId","authToken","activeOrderFilter","setActiveOrderFilter","activePaymentFilter","setActivePaymentFilter","activeDeliveryFilter","setActiveDeliveryFilter","activePaymentModeFilter","setActivePaymentModeFilter","fromEpochDate","setFromEpochDate","toEpochDate","setToEpochDate","onOrderFilterChange","filter","Array","isArray","map","value","x","includes","onPaymentFilterChange","onDeliveryFilterChange","onPaymentModeFilterChange","changePage","e","onDateEpochChange","val","check","token","localStorage","getItem","circleID","get","apiUrl","headers","params","circle_id","order_status","join","delivery_type","payment_status","payment_mode","dt_last_modified_from","dt_last_modified_to","then","response","data","results","count","catch","error","alert","downloadAPI","downloadUrl","console","log","Date","toLocaleString","toString","rows","item","key","id","order","order_short_number","Order_created_date","created","last_update","modified","Status","Seller","business_name","Order_amt","order_total","Delivery_type","Delivery_charges","delivery_charges","Other_charges","other_charges","Item_Total","item_total","Delivery_Agent","da_info","Payment_Status","payment_info","status","Payment_mode","via","Payment_id","payment_id","Customer_name","customer_name","Customer_number","customer_phones","Customer_address","delivery_address","long_id","order_id","columns","label","minWidth","align","root","padding","paddingTop","paddingLeft","marginTop","height","width","display","overflow","table","column","row","scrollPaddingBottom","alignContent","Math","ceil"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Pagination } from '@material-ui/lab';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport { Button } from 'react-bootstrap';\r\nimport DownloadButton from '@material-ui/core/Button';\r\n\r\nimport axios from 'axios';\r\nimport config from '../Utility/config';\r\nimport blockStyle from '../Utility/Style';\r\nimport Counter from '../Components/Counter';\r\nimport Filters from '../Components/Filters';\r\nimport DatePicker from '../Components/DatePicker'\r\nimport { orderFilters, paymentFilters,deliveryFilters, paymentModeFilters } from '../Utility/filterList';\r\nimport { getCustomerAddress, getDateFormat, getDeliveryAgentName } from \"../Utility/paramsConvert\";\r\nconst useStyles = makeStyles(blockStyle);\r\nvar fileDownload = require('js-file-download');\r\n\r\nconst Content = (props) => {\r\n  const classes = useStyles();\r\n  const [tableData, setTableData] = useState([]);\r\n  const [orderCount, setorderCount] = useState(0);\r\n  const [orderSum, setorderSum] = useState(0);\r\n  const [orderSeller, setorderSeller] = useState(0);\r\n  const [customer, setcustomer] = useState(0);\r\n  const [orderStatus, setorderStatus] = useState({});\r\n  const [filterCompleted, setFilterCompleted] = useState(true)\r\n  const [page, setPage] = useState(1);\r\n  const { circleId, authToken } = useParams();\r\n  const [activeOrderFilter, setActiveOrderFilter] = useState([]);\r\n  const [activePaymentFilter, setActivePaymentFilter] = useState([]);\r\n  const [activeDeliveryFilter, setActiveDeliveryFilter] = useState([]);\r\n  const [activePaymentModeFilter, setActivePaymentModeFilter] = useState([]);\r\n  const [fromEpochDate, setFromEpochDate] = useState();\r\n  const [toEpochDate, setToEpochDate] = useState();\r\n\r\n \r\n  const onOrderFilterChange = (filter) => {\r\n    setActiveOrderFilter(Array.isArray(filter) ? filter.map( filter => (filter.value)) : []);\r\n    filter.map(x=>activeOrderFilter.includes(x.value));\r\n    setFilterCompleted(!filterCompleted)\r\n  }\r\n\r\n  const onPaymentFilterChange = (filter) => {\r\n    \r\n    setActivePaymentFilter(Array.isArray(filter) ? filter.map( filter => (filter.value)) : []);\r\n    setFilterCompleted(!filterCompleted)\r\n  }\r\n\r\n  const onDeliveryFilterChange = (filter) => {\r\n    setActiveDeliveryFilter(Array.isArray(filter) ? filter.map( filter => (filter.value)) : []);\r\n    setFilterCompleted(!filterCompleted)\r\n  }\r\n\r\n  const onPaymentModeFilterChange = (filter) => {\r\n\r\n    setActivePaymentModeFilter(Array.isArray(filter) ? filter.map( filter => (filter.value)) : []);\r\n    setFilterCompleted(!filterCompleted)\r\n  }\r\n\r\n\r\n  const changePage = (e, value) => {\r\n\r\n    setPage(value)\r\n\r\n\r\n  }\r\n\r\n  const onDateEpochChange = (val, check) => {\r\n    if (check === \"ChangeFrom\") {\r\n      setFromEpochDate(val)\r\n\r\n    }\r\n    else if (check === \"ChangeTo\") {\r\n      setToEpochDate(val)\r\n    }\r\n    setFilterCompleted(!filterCompleted)\r\n\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    const token = localStorage.getItem(\"authenticationToken\");\r\n    const circleID = localStorage.getItem(\"circle_id\");\r\n\r\n    //Making API call to backend\r\n    axios.get(config.apiUrl, {\r\n      headers: {\r\n        'Authorization': \"JWT \" + { authToken }.authToken\r\n      },\r\n      params: {\r\n        circle_id: { circleId }.circleId,\r\n        order_status: activeOrderFilter.join(),\r\n        page: page,\r\n        delivery_type: activeDeliveryFilter.join(),\r\n        payment_status: activePaymentFilter.join(),\r\n        payment_mode: activePaymentModeFilter.join(),\r\n        dt_last_modified_from: fromEpochDate,\r\n        dt_last_modified_to: toEpochDate\r\n      }\r\n    })\r\n      .then(response => {\r\n        // alert(\"success\")\r\n        setTableData(response.data.results)\r\n        setorderCount(response.data.count)\r\n      })\r\n      .catch(function (error) {\r\n        alert(\"Unauthorize or slow internet\")\r\n      })\r\n\r\n  }, [filterCompleted, page])\r\n\r\n  const downloadAPI=()=>{\r\n    const token = localStorage.getItem(\"authenticationToken\");\r\n    const circleID = localStorage.getItem(\"circle_id\");\r\n    \r\n    //Making API call to backend\r\n    axios.get(config.downloadUrl, {\r\n      headers: {\r\n        'Authorization': \"JWT \" + { authToken }.authToken\r\n      },\r\n      params: {\r\n        circle_id: { circleId }.circleId,\r\n        order_status: activeOrderFilter.join(),\r\n        delivery_type: activeDeliveryFilter.join(),\r\n        payment_status: activePaymentFilter.join(),\r\n        payment_mode: activePaymentModeFilter.join(),\r\n        dt_last_modified_from: fromEpochDate,\r\n        dt_last_modified_to: toEpochDate\r\n        \r\n      }\r\n    })\r\n      .then(response => {\r\n        console.log(Date().toLocaleString());\r\n        fileDownload(response.data, 'Order Data ('+Date().toString()+').csv');\r\n        \r\n      })\r\n      .catch(function (error) {\r\n        alert(\"Unauthorize or slow internet\")\r\n      })\r\n  }\r\n\r\n  const rows = (tableData.map((item, key) => {\r\n    \r\n    return {\r\n      id: item.order.order_short_number,\r\n      Order_created_date: getDateFormat(item.order.created),\r\n      last_update: getDateFormat(item.order.modified),\r\n      Status: item.order.order_status,\r\n      Seller: item.order.business_name,\r\n      Order_amt: item.order.order_total,\r\n      Delivery_type: item.order.delivery_type,\r\n      Delivery_charges: item.order.delivery_charges,\r\n      Other_charges: item.order.other_charges,\r\n      Item_Total: item.order.item_total,\r\n      Delivery_Agent: getDeliveryAgentName(item.order.da_info),\r\n      Payment_Status: item.order.payment_info.status,\r\n      Payment_mode: item.order.payment_info.via,\r\n      Payment_id: item.order.payment_info.payment_id,\r\n      Customer_name: item.order.customer_name,\r\n      Customer_number: item.order.customer_phones,\r\n      Customer_address: getCustomerAddress(item.order.delivery_address),\r\n      long_id: item.order.order_id\r\n\r\n    }\r\n  }))\r\n\r\n  const columns = [\r\n    { id: \"id\", label: \"OrderId\", minWidth: 50, align: 'left' },\r\n    { id: \"Order_created_date\", label: \"Order Created Date\", minWidth: 100, align: 'left' },\r\n    { id: \"last_update\", label: \"Order Last Update Date\", minWidth: 100, align: 'left' },\r\n    { id: \"Status\", label: \"Status\", minWidth: 50, align: 'left' },\r\n    { id: \"Seller\", label: \"Seller\", minWidth: 50, align: 'left' },\r\n    { id: \"Order_amt\", label: \"Order Amt\", minWidth: 50, align: 'left' },\r\n    { id: \"Delivery_Type\", label: \"Delivery Type\", minWidth: 50, align: 'left' },\r\n    { id: \"Delivery_Charges\", label: \"Delivery Charges\", minWidth: 50, align: 'left' },\r\n    { id: \"Other_charges\", label: \"Other Charges\", minWidth: 50, align: 'left' },\r\n    { id: \"Item_Total\", label: \"Item Total\", minWidth: 50, align: 'left' },\r\n    { id: \"Delivery_Agent\", label: \"Delivery Agent\", minWidth: 50, align: 'left' },\r\n    { id: \"Payment_Status\", label: \"Payment Status\", minWidth: 50, align: 'left' },\r\n    { id: \"Payment_mode\", label: \"Payment Mode\", minWidth: 50, align: 'left' },\r\n    { id: \"Payment_id\", label: \"Payment id\", minWidth: 50, align: 'left' },\r\n    { id: \"Customer_name\", label: \"Customer Name\", minWidth: 50, align: 'left' },\r\n    { id: \"Customer_number\", label: \"Customer Number\", minWidth: 50, align: 'left' },\r\n    { id: \"Customer_address\", label: \"Customer Address\", minWidth: 50, align: 'left' },\r\n    { id: \"long_id\", label: \"Long OrderId\", minWidth: 50, align: 'left' },\r\n  ];\r\n\r\n  \r\n\r\n  return (\r\n\r\n\r\n    <div className={classes.root}>\r\n\r\n      <Grid container spacing={3}>\r\n\r\n        <Grid item xs={4} style={{ padding: \"10px\" }}>\r\n            <DatePicker handleDateChange={onDateEpochChange} ></DatePicker>\r\n        </Grid>\r\n\r\n        <Grid item xs={2} style={{ padding: \"4px\" }}>\r\n            <h4>ORDER STATUS</h4>\r\n          <Filters handleFilterChange={onOrderFilterChange}  activeFilterFilter={activeOrderFilter} filterUtility={orderFilters} ></Filters>\r\n            <h4>DELIVERY STATUS</h4>\r\n          <Filters handleFilterChange={onDeliveryFilterChange}  activeFilterFilter={activeDeliveryFilter} filterUtility={deliveryFilters}></Filters> \r\n        </Grid>\r\n\r\n        <Grid item xs={2} style={{ padding: \"4px\" }}>\r\n            <h4>PAYMENT STATUS</h4>\r\n          <Filters handleFilterChange={onPaymentFilterChange}  activeFilterFilter={activePaymentFilter} filterUtility={paymentFilters}></Filters>\r\n            <h4>PAYMENT MODE</h4>\r\n          <Filters handleFilterChange={onPaymentModeFilterChange}  activeFilterFilter={activePaymentModeFilter} filterUtility={paymentModeFilters}></Filters>      \r\n        </Grid>\r\n\r\n        <Grid item xs={3} style={{ paddingTop: \"60px\" }}>\r\n          <Counter orderCount={orderCount} />\r\n        </Grid>\r\n\r\n      </Grid>\r\n     \r\n\r\n      <Grid container spacing={3} style={{ paddingTop: \"30px\"}} >\r\n        <Grid item xs={1} >\r\n          <Button onClick={() => {\r\n            setFromEpochDate();\r\n            setToEpochDate();\r\n            setFilterCompleted(!filterCompleted)\r\n          }}>\r\n            <RefreshIcon >\r\n            </RefreshIcon>\r\n          </Button>\r\n        </Grid>\r\n        \r\n        <Grid item xs={1} style={{ paddingLeft: \"5px\" }}>\r\n          {/* <h4>Download File</h4> */}\r\n          <DownloadButton variant=\"contained\" color=\"primary\" onClick={downloadAPI}>Download</DownloadButton>\r\n        </Grid>\r\n\r\n      </Grid>\r\n  \r\n      <div style={{ marginTop: \"0em\" }}>\r\n\r\n        <Grid container spacing={3}>\r\n          \r\n          <Grid item xs={12}>\r\n            <TableContainer component={Paper} style={{ height: \"100%\", width: \"100%\", display: \"block\", overflow: \"auto\" }}>\r\n              <Table className={classes.table} aria-label=\"simple table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    {columns.map((column) => (<TableCell\r\n                      key={column.id}\r\n                      align={column.align}\r\n                      style={{\r\n                        minWidth: column.minWidth,\r\n\r\n                      }}\r\n                    >\r\n                       <strong>{column.label}</strong>\r\n                    </TableCell>))}\r\n\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {rows.map((row) => {\r\n\r\n                    return row ?\r\n                      (\r\n                        <TableRow key={row.id}>\r\n                          <TableCell align=\"left\">{row.id}</ TableCell>\r\n                          <TableCell align=\"left\">{row.Order_created_date}</TableCell>\r\n                          <TableCell align=\"left\">{row.last_update}</TableCell>\r\n                          <TableCell align=\"left\">{row.Status}</TableCell>\r\n                          <TableCell align=\"left\">{row.Seller}</TableCell>\r\n                          <TableCell align=\"left\">{row.Order_amt}</TableCell>\r\n                          <TableCell align=\"left\">{row.Delivery_type}</TableCell>\r\n                          <TableCell align=\"left\">{row.Delivery_charges}</TableCell>\r\n                          <TableCell align=\"left\">{row.Other_charges}</TableCell>\r\n                          <TableCell align=\"left\">{row.Item_Total}</TableCell>\r\n                          <TableCell align=\"left\">{row.Delivery_Agent}</TableCell>\r\n                          <TableCell align=\"left\">{row.Payment_Status}</TableCell>\r\n                          <TableCell align=\"left\">{row.Payment_mode}</TableCell>\r\n                          <TableCell align=\"left\">{row.Payment_id}</TableCell>\r\n                          <TableCell align=\"left\">{row.Customer_name}</TableCell>\r\n                          <TableCell align=\"left\">{row.Customer_number}</TableCell>\r\n                          <TableCell align=\"left\">{row.Customer_address}</TableCell>\r\n                          <TableCell align=\"left\">{row.long_id}</TableCell>\r\n\r\n                        </TableRow>\r\n                      ) : null\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n\r\n            <Pagination style={{ paddingTop: \"20px\", scrollPaddingBottom: \"20px\", alignContent: \"center\" }} count={Math.ceil(orderCount / 10)} onChange={changePage} showFirstButton showLastButton />\r\n          </Grid>\r\n        </Grid>\r\n\r\n\r\n      </div>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default Content;"]},"metadata":{},"sourceType":"module"}